!function(i){var t=function(t,e){this.slider=i(t),this.defaults={noCss:!1,displayedSlides:4,slidesGutter:20,createArrowsNavigation:!0,createPagesNavigation:!0,createActiveContentNavigation:!0,displayPageNumber:!0,displayFirstActiveContent:!0,activeContentThumbnail:!1,swipe:!0,autoplay:!1,autoplayDelay:3e3,infiniteLoop:!0,animationSpeed:300,addActiveClass:!0,changeSlideUrlParameter:"changeSlide",onActiveSlideUpdateBefore:i.noop,onActiveSlideUpdateAfter:i.noop,onChangeSlideBefore:i.noop,onChangeSlideAfter:i.noop,onLayoutUpdateBefore:i.noop,onLayoutUpdateAfter:i.noop,labels:{navigationPrev:"Précédent",navigationPrevAria:"La diapositive précédente est affichée.",navigationNext:"Suivant",navigationNextAria:"La diapositive suivante est affichée.",pagesNavigation:"Afficher la diapositive",pagesNavigationActive:"Diapositive présentement affichée",activeContentNavigationPrev:"Précédent",activeContentNavigationNext:"Suivant",autoplayButton:"Mettre le carrousel en marche",autoplayButtonPause:"Mettre le carrousel en pause"},classes:{sliderOverflow:"slider-overflow",sliderWrapper:"slider-wrapper",sliderContainer:"slider-container",slide:"slide",sliderActiveContentTrigger:"slider-active-content-trigger",sliderActiveContentContainer:"slider-active-content-container",sliderNavigation:"slider-navigation",navigationPrev:"slider-navigation-prev",navigationNext:"slider-navigation-next",arrowsNavigation:"slider-navigation-arrows",pagesNavigation:"slider-navigation-pages",activeContentNavigation:"slider-navigation-active-content",activeContentNavigationPrev:"slider-navigation-active-content-prev",activeContentNavigationNext:"slider-navigation-active-content-next",ariaText:"aria-text",ariaTextActive:"aria-text-active",ariaHiddenBox:"aria-hidden-box",autoplayButton:"slider-autoplay",states:{active:"is-active"}}},this.classes=i.extend(!0,this.defaults.classes,window.project?window.project.classes:{}),this.labels=i.extend(!0,this.defaults.labels,window.project?window.project.labels:{}),this.config=i.extend(!0,this.defaults,e||{}),this.sliderWrapper=this.slider.find("."+this.classes.sliderWrapper),this.sliderContainer=this.slider.find("."+this.classes.sliderContainer),this.slides=this.slider.find("."+this.classes.slide),this.activeSlideIndex=0,this.mouseHover=!1,this.isAnimated=!1,this.urlParameter=this.getUrlParameter(this.config.changeSlideUrlParameter),this.publicMethods={prevSlide:i.proxy(function(){this.changeSlide(this.activeSlideIndex-1)},this),nextSlide:i.proxy(function(){this.changeSlide(this.activeSlideIndex+1)},this),startAutoplay:i.proxy(function(){this.autoplay()},this),stopAutoplay:i.proxy(function(){this.stopAutoplay()},this)},this.init()};i.extend(t.prototype,{init:function(){if(this.updatePluginText(),this.initLayout(this.config.displayedSlides),this.createAriabox(),this.slides.length>this.config.displayedSlides&&((this.config.createArrowsNavigation||this.config.createPagesNavigation)&&this.createNavigation(),this.config.autoplay&&this.autoplay(),this.config.swipe&&this.swipe()),this.isActiveContent()&&(this.initActiveContent(),this.config.createActiveContentNavigation&&this.createActiveContentNavigation()),this.urlParameter){var i=this.animationSpeed;this.animationSpeed=0,this.changeSlide(this.urlParameter),this.animationSpeed=i}this.bindEvents()},updatePluginText:function(){i.each(this.config.labels,i.proxy(function(t,e){i.each(this.slider.data(),i.proxy(function(i,e){var s=i.replace(/-([a-z])/g,function(i){return i[1].toUpperCase()});s===t&&(this.config.labels[s]=e)},this))},this))},initLayout:function(){var t=100/this.slides.length;this.config.onLayoutUpdateBefore(),this.sliderWrapper.wrap('<div class="'+this.classes.sliderOverflow+'"></div>'),this.slider.find("."+this.classes.sliderOverflow).css("overflow","hidden"),this.config.noCss||(this.sliderWrapper.css({position:"relative",overflow:"hidden","margin-left":this.config.slidesGutter/2*-1+"px","margin-right":this.config.slidesGutter/2*-1+"px"}),this.sliderContainer.css({position:"relative",left:"0","font-size":"0",width:this.slides.length/this.config.displayedSlides*100+"%"}),this.slides.css({position:"relative",display:"inline-block",width:"calc("+t+"% - "+this.config.slidesGutter+"px)","margin-left":this.config.slidesGutter/2+"px","margin-right":this.config.slidesGutter/2+"px","font-size":"1.4rem"})),this.config.addActiveClass&&i(this.slides[0]).addClass(this.config.classes.states.active),this.slides.slice(this.config.displayedSlides).find("a, button, :input, [tabindex]").attr("tabindex","-1"),this.config.onLayoutUpdateAfter()},bindEvents:function(){this.slider.hover(i.proxy(function(){this.mouseHover=!0},this),i.proxy(function(){this.mouseHover=!1},this)),i(document).on("keyboardnavigation",i.proxy(function(){this.stopAutoplay()},this))},initActiveContent:function(){this.activeContentTriggers=this.slides.find("."+this.classes.sliderActiveContentTrigger),this.activeContentWrapper=i("."+this.slider.data("active-content")),this.activeContentWrapper.wrapInner('<div class="'+this.classes.sliderActiveContentContainer+'"></div>'),this.activeContentContainer=this.activeContentWrapper.find("."+this.classes.sliderActiveContentContainer),this.activeContentTriggers.on("click",i.proxy(function(t){var e=i(t.currentTarget),s=e.parents("."+this.classes.slide),a=s.find("."+e.data("show-active-content")).clone(),n=s.index();this.config.addActiveClass&&(this.slides.removeClass(this.classes.states.active),s.addClass(this.classes.states.active)),this.updateActiveSlideContent(a,n),t.preventDefault()},this)),this.config.displayFirstActiveContent&&this.activeContentTriggers.first().trigger("click")},updateActiveSlideContent:function(i,t){if(this.config.onActiveSlideUpdateBefore(),this.activeContentContainer.html(i),1==this.config.activeContentThumbnail){var e=this.activeContentContainer.find("img"),s=e.data("src");""!=s&&e.attr("src",s)}this.activeContentWrapper.attr("data-index",t),this.config.onActiveSlideUpdateAfter()},createNavigation:function(){this.slider.find("."+this.classes.sliderNavigation).remove(),this.sliderWrapper.after('<div class="'+this.classes.sliderNavigation+' clearfix"></div>'),this.sliderNavigation=this.slider.find("."+this.classes.sliderNavigation),this.config.createArrowsNavigation&&this.createArrowsNavigation(),this.config.createPagesNavigation&&this.createPagesNavigation()},createArrowsNavigation:function(){var i='<button class="'+this.classes.navigationPrev+'"><span class="visuallyhidden '+this.classes.ariaText+'">'+this.labels.navigationPrev+"</span></button>",t='<button class="'+this.classes.navigationNext+'"><span class="visuallyhidden '+this.classes.ariaText+'">'+this.labels.navigationNext+"</span></button>";this.sliderNavigation.append('<div class="'+this.classes.arrowsNavigation+'-wrapper"></div>'),this.sliderNavigation.find("."+this.classes.arrowsNavigation+"-wrapper").append(i,t),this.previousNavigation=this.sliderNavigation.find("."+this.classes.navigationPrev),this.nextNavigation=this.sliderNavigation.find("."+this.classes.navigationNext),(this.config.createArrowsNavigation||this.config.createPagesNavigation)&&(this.previousNavigation.attr("aria-hidden","true"),this.nextNavigation.attr("aria-hidden","true")),this.bindEventsArrowsNavigation()},bindEventsArrowsNavigation:function(){this.previousNavigation.on("click",i.proxy(function(){this.navigationTypeTriggered="arrows",this.changeSlide(this.activeSlideIndex-1),this.updateAriabox(this.config.labels.navigationPrevAria),this.stopAutoplay()},this)),this.nextNavigation.on("click",i.proxy(function(){this.navigationTypeTriggered="arrows",this.changeSlide(this.activeSlideIndex+1),this.updateAriabox(this.config.labels.navigationNextAria),this.stopAutoplay()},this))},createPagesNavigation:function(){var t='<button class="'+this.classes.pagesNavigation+'"><span class="visuallyhidden '+this.classes.ariaText+'"></span></button>';this.sliderNavigation.append('<div class="'+this.classes.pagesNavigation+'-wrapper"></div>');for(var e=0;e<this.slides.length/this.config.displayedSlides;e++)this.sliderNavigation.find("."+this.classes.pagesNavigation+"-wrapper").append(t);this.pagesNavigation=this.sliderNavigation.find("."+this.classes.pagesNavigation),this.pagesNavigation.each(i.proxy(function(t,e){this.config.displayPageNumber===!0?i(e).find("."+this.classes.ariaText).text(this.labels.pagesNavigation).after(t+1):i(e).find("."+this.classes.ariaText).text(this.labels.pagesNavigation+(parseInt(t)+1))},this)),this.pagesNavigation.eq(0).addClass(this.classes.states.active).append('<span class="visuallyhidden '+this.classes.ariaTextActive+'">'+this.labels.pagesNavigationActive+"</span>"),this.bindEventsPagesNavigation()},bindEventsPagesNavigation:function(){this.pagesNavigation=this.sliderNavigation.find("."+this.classes.pagesNavigation),this.pagesNavigation.on("click",i.proxy(function(t){var e=i(t.currentTarget).index();this.navigationTypeTriggered="pages",this.pagesNavigation.removeClass(this.classes.states.active),i(t.currentTarget).addClass(this.classes.states.active),this.changeSlide(e*this.config.displayedSlides),this.stopAutoplay()},this))},createActiveContentNavigation:function(){var i='<button class="'+this.classes.activeContentNavigationPrev+'"><span class="visuallyhidden '+this.classes.ariaText+'">'+this.labels.activeContentNavigationPrev+"</span></button>",t='<button class="'+this.classes.activeContentNavigationNext+'"><span class="visuallyhidden '+this.classes.ariaText+'">'+this.labels.activeContentNavigationNext+"</span></button>";this.activeContentWrapper.append('<div class="'+this.classes.activeContentNavigation+'-wrapper"></div>'),this.activeContentWrapper.find("."+this.classes.activeContentNavigation+"-wrapper").append(i,t),this.previousActiveContentNavigation=this.activeContentWrapper.find("."+this.classes.activeContentNavigationPrev),this.nextActiveContentNavigation=this.activeContentWrapper.find("."+this.classes.activeContentNavigationNext),this.previousActiveContentNavigation.attr("aria-hidden","true"),this.nextActiveContentNavigation.attr("aria-hidden","true"),this.bindEventsActiveContentNavigation()},bindEventsActiveContentNavigation:function(){this.previousActiveContentNavigation.on("click",i.proxy(function(){var i=parseInt(this.activeContentWrapper.attr("data-index"))-1;0>i&&(i=this.config.infiniteLoop?this.slides.length-1:0);var t=Math.floor(i/this.config.displayedSlides);this.navigationTypeTriggered="pages",this.changeSlide(t*this.config.displayedSlides),this.updateAriabox(this.config.labels.navigationPrevAria),this.stopAutoplay(),this.slides.removeClass(this.classes.states.active).eq(i).addClass(this.classes.states.active).find("."+this.classes.sliderActiveContentTrigger).click(),this.activeContentWrapper.attr("data-index",i)},this)),this.nextActiveContentNavigation.on("click",i.proxy(function(){var i=parseInt(this.activeContentWrapper.attr("data-index"))+1;i>=this.slides.length&&(i=this.config.infiniteLoop?0:this.slides.length);var t=Math.floor(i/this.config.displayedSlides);this.navigationTypeTriggered="pages",this.changeSlide(t*this.config.displayedSlides),this.updateAriabox(this.config.labels.navigationNextAria),this.stopAutoplay(),this.slides.removeClass(this.classes.states.active).eq(i).addClass(this.classes.states.active).find("."+this.classes.sliderActiveContentTrigger).click(),this.activeContentWrapper.attr("data-index",i)},this))},swipe:function(){this.detectswipe(this.slider,i.proxy(function(i){this.stopAutoplay(),this.changeSlide(this.activeSlideIndex+("left"===i?1:-1))},this))},autoplay:function(){this.isAutoplay=!0,this.createAutoplayButton(),this.toggleAutoplayText(),this.autoplayInterval&&clearInterval(this.autoplayInterval),this.autoplayInterval=setInterval(i.proxy(function(){this.mouseHover||(this.changeSlide(this.activeSlideIndex+1),this.isActiveContent&&this.slides.eq(this.activeSlideIndex+1).find("."+this.classes.sliderActiveContentTrigger).click())},this),this.config.autoplayDelay)},stopAutoplay:function(){this.isAutoplay=!1,clearInterval(this.autoplayInterval),void 0!==this.autoplayButton&&(this.autoplayButton.removeClass(this.classes.states.active),this.toggleAutoplayText())},createAutoplayButton:function(){var i='<button class="'+this.classes.autoplayButton+" "+this.classes.states.active+'"><span class="">'+this.labels.autoplayButton+"</span></button>";this.sliderNavigation.find("."+this.classes.autoplayButton).length<1&&(this.sliderNavigation.append(i),this.bindEventsAutoplayButton())},bindEventsAutoplayButton:function(){this.autoplayButton=this.sliderNavigation.find("."+this.classes.autoplayButton),this.autoplayButton.on("click",i.proxy(function(){this.isAutoplay?this.stopAutoplay():(this.mouseHover=!1,this.autoplay())},this))},toggleAutoplayText:function(){this.sliderNavigation.find("."+this.classes.autoplayButton).length>0&&(this.isAutoplay?this.autoplayButton.find("span").text(this.labels.autoplayButtonPause):this.autoplayButton.find("span").text(this.labels.autoplayButton))},createAriabox:function(){this.config.createArrowsNavigation&&(this.slider.append('<div class="visuallyhidden '+this.classes.ariaHiddenBox+'" aria-live="polite" aria-atomic="true" aria-hidden="true"></div>'),this.ariaHiddenBox=this.slider.find("."+this.classes.ariaHiddenBox))},updateAriabox:function(i){this.config.createArrowsNavigation&&this.ariaHiddenBox.html(i)},changeSlide:function(t){0>t?t=this.config.infiniteLoop?this.slides.length-this.config.displayedSlides:0:t>this.slides.length-this.config.displayedSlides&&(t="pages"===this.navigationTypeTriggered?this.slides.length-this.config.displayedSlides:this.config.infiniteLoop?0:this.slides.length-this.config.displayedSlides),this.config.addActiveClass&&(this.slides.removeClass(this.classes.states.active),i(this.slides[t]).addClass(this.classes.states.active)),this.isAnimated||this.changeSlideAnimation(t)},changeSlideAnimation:function(t){var e=this.activeSlideIndex<t?"next":"prev",s="a, button, :input, [tabindex]";this.isAnimated=!0,this.config.onChangeSlideBefore(e,i(this.slides[t])),this.sliderContainer.animate({left:100/this.config.displayedSlides*t*-1+"%"},this.config.animationSpeed,i.proxy(function(){this.isAnimated=!1,this.activeSlideIndex=t,this.slides.find(s).attr("tabindex","-1"),this.slides.slice(t,t+this.config.displayedSlides).find(s).removeAttr("tabindex"),(this.config.createArrowsNavigation||this.config.createPagesNavigation)&&this.updateSlidesNavigation(),this.config.onChangeSlideAfter(e,i(this.slides[this.activeSlideIndex]))},this))},updateSlidesNavigation:function(){if(this.config.createPagesNavigation){var i=this.activeSlideIndex/this.config.displayedSlides,t=Math.floor(i);i===this.slides.length/this.config.displayedSlides-1&&(t=this.pagesNavigation.length-1),this.pagesNavigation.removeClass(this.classes.states.active).eq(t).addClass(this.classes.states.active),this.pagesNavigation.find("."+this.classes.ariaTextActive).remove(),this.pagesNavigation.eq(t).append('<span class="visuallyhidden '+this.classes.ariaTextActive+'">'+this.labels.pagesNavigationActive+"</span>")}},detectswipe:function(i,t){var e=30,s=30,a=50,n=60,o="",l=new Object;l.sX=0,l.sY=0,l.eX=0,l.eY=0,i=i[0],i.addEventListener("touchstart",function(i){var t=i.touches[0];l.sX=t.screenX,l.sY=t.screenY},!1),i.addEventListener("touchmove",function(i){var t=i.touches[0];l.eX=t.screenX,l.eY=t.screenY,i.preventDefault()},!1),i.addEventListener("touchend",function(){(l.eX-e>l.sX||l.eX+e<l.sX)&&l.eY<l.sY+n&&l.sY>l.eY-n&&l.eX>0?o=l.eX>l.sX?"right":"left":(l.eY-a>l.sY||l.eY+a<l.sY)&&l.eX<l.sX+s&&l.sX>l.eX-s&&l.eY>0&&(o=l.eY>l.sY?"down":"up"),""!=o&&"function"==typeof t&&t(o),o="",l.sX=0,l.sY=0,l.eX=0,l.eY=0},!1)},isActiveContent:function(){return void 0!==this.slider.data("active-content")},getUrlParameter:function(i){var t,e,s=decodeURIComponent(window.location.search.substring(1)),a=s.split("&");for(e=0;e<a.length;e++)if(t=a[e].split("="),t[0]===i)return void 0===t[1]?!0:t[1]}}),i.fn.slider=function(e){return this.each(i.proxy(function(s,a){var n=i(a);if(!n.data("slider")){var o=new t(a,e);for(var l in o.publicMethods)this[l]=o.publicMethods[l];n.data("slider",o)}},this)),this}}(jQuery);