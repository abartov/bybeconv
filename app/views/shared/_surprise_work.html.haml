.corner
  %img{ src: '/assets/corner.png', width: 80, height: 80}
%a{ href: manifestation_read_path(manifestation)}
  .genre-card-content
    .surprise-genre-text
      %p.headline-3= manifestation.title
      %p= "(#{t(manifestation.expressions[0].genre)})"
      %div
        = t(:by)+' '+manifestation.expressions[0].works[0].persons[0].name
        - if manifestation.expressions[0].translation
          = ' '+t(:translated_by)+' '+manifestation.expressions[0].persons[0].name
.replace-icon.text-on-dark{style:'margin-bottom:0.6rem'}
  %a{ id: "surprise-work-refresh-#{id_frag}#{side}", role: :button}
    %i.fa.fa-refresh
:javascript
  $("#surprise-work-refresh-#{id_frag}#{side}").click(function(){
    $("#surprise-work-refresh-#{id_frag}#{side}").off('click'); // remove any existing hook
    var the_id, side;
    if($("##{id_frag}_side1").hasClass('active')) { // because we're about to flip
      the_id = "##{id_frag}_side1";
      side = '1';
    } else {
      the_id = "##{id_frag}_side2";
      side = '2';
    }
    $("#surprise-work-carousel-#{id_frag}").carousel('next');
    $(the_id).load("#{url_for(controller: :manifestation, action: :get_random, id_frag: id_frag, genre: passed_genre)}"+'&side='+side);
  });