- genres = get_genres.push('translations')
- first = true
%nav#genrenav{'class' => 'navbar'}
  %ul.navbar-nav.flex-column.by-card-v02#genre-nav{'aria-orientation' => 'vertical'}
    - genres.each do |g|
      - if genres_present.include?(g)
        %li.nav-item
          %a{'class' => 'nav-link '+(first ? 'active' : ''), id: g+'_button', href: "#works-#{g}", 'aria-controls' => "##{g}_g", 'aria-selected' => (first ? 'true' : 'false')}
            .side-menu-icon= glyph_for_genre(g)
            .side-menu-name= textify_genre(g)
        - first = false
    - if curated_content
      %li.by-side-menu-seperator
      %li.nav-item
        %button.nav-link.nav-link-edit.notyet{:href => "#"}
          .side-menu-icon Q
:javascript
  $(document).ready(function() {
    $('.side-menu-item').click(function() {
      $('.side-menu-item').removeClass('current-menu-item');
      $(this).addClass('current-menu-item');
      anchor = $(this).attr('id').replace('_button','_g');
      $('html, body').animate({
        scrollTop: $('a[name='+anchor+']').offset().top - 150
      }, 100);
    });
  });